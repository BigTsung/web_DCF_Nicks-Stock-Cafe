# DCF 估值計算器 — Nick's Stock Cafe

一個純前端的 DCF（折現自由現金流）估值小工具，邏輯對齊提供的 Google Sheet。無需安裝或後端，直接打開網頁即可使用。

## 快速開始

- 打開 `index.html`（雙擊或用瀏覽器開啟）。
- 可點「載入GOOGL範例」自動填入一組示例參數並立即計算。

專案檔案：
- `index.html`：頁面與表單
- `styles.css`：樣式
- `app.js`：計算邏輯與互動

## 手動輸入欄位

- 未來成長率（1~5年）%
- 二階成長率（6~10年）%
- 永久成長率（終值）%
- 折現率（WACC）%（可留空）
- 期望折現率（期望收益率）%（若 WACC 空白時可替代）
- 過去五年成長率（資訊用，當前未參與計算）
- TTM Revenue
- 營收成長（y1-5）%
- 營收成長（y6-10）%
- ATH FCF M（資訊用，當前未參與公式）
- 自由現金流（第一年，手動）
- (+) 現金及其他投資
- (−) 總負債
- 流通在外股數
- 起始年份（預設為今年）
- 股票當前價格

四個成長率欄位彼此獨立，修改其中之一不會自動改動其他欄位。

## 計算公式（與試算表一致）

記號：`g_fcf_15`/`g_fcf_610` = 1~5/6~10 年的「未來/二階成長率」，`g_rev_15`/`g_rev_610` = 1~5/6~10 年的「營收成長」。

- 年 0 基準：
  - `Revenue[0] = TTM Revenue`
  - `FCF[0] = 手動輸入`
  - `Margin[0] = FCF[0] / Revenue[0]`
- 年 1~10 的營收：
  - `Revenue[t] = Revenue[t-1] * (1 + g_rev_15)`（t=1..5）
  - `Revenue[t] = Revenue[t-1] * (1 + g_rev_610)`（t=6..10）
- 年 1~10 的 FCF Margin（你表格的遞推式）：
  - `Margin[t] = Margin[t-1] * (1 + g_fcf_15) / (1 + g_rev_15)`（t=1..5）
  - `Margin[t] = Margin[t-1] * (1 + g_fcf_610) / (1 + g_rev_610)`（t=6..10）
- 年 1~10 的 FCF：`FCF[t] = Margin[t] * Revenue[t]`
- 終值（第 10 年後）：`TV = FCF[10] * (1 + g_perp) / (r - g_perp)`
- 折現率選用：`r = WACC`；若未填，改用「期望折現率」；兩者都空白則預設 `10%`。需滿足 `r > g_perp`。
- 企業價值（EV）：`EV = NPV(r, FCF[1..9], FCF[10] + TV)`
- 股權價值：`Equity = EV + Cash - Debt`
- 每股合理價：`Fair = Equity / Shares`
- 安全邊際：`MOS = (Fair - Market) / Market`
- 買進/賣出：`MOS > 0 → BUY`，否則 `SELL`

## 明細（展開查看）

表格欄位：
- Year
- 自由現金流（該年 FCF）
- 終值（Terminal Value，僅最後一年有值）
- 總和（該年 FCF；最後一年 = FCF + 終值）
- FCF Margin

備註：明細表顯示的是未折現的年度現金流；EV 的計算使用折現率 `r` 將上述現金流折現並加總。

## 常見問題

- WACC 可以不填嗎？
  - 可以。會依序採用：WACC → 期望折現率 → 預設 10%。
- 幣別單位？
  - 依你的輸入幣別計算，請保持所有金額欄位的幣別一致。

## 版權與免責

本工具僅供研究使用，非投資建議。使用者需自行承擔投資風險。
